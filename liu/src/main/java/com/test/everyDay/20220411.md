Q:1.master如何判断一个slave是否是第一次同步？同步
A:slave原本也是一个master,有自己的replication id和offset,与master连接时，将自己的relication id 和offset发送给master,master收到relication id后，
  发现与自己的relication id不一致，master就可以判断该slave是第一次连接，于是开始全量同步，master会将自己的replid和offset都发送给这个slave，
  slave保存这些信息，master和slave的replid就保持一致了
  全量同步过程:(1)slave节点请求增量同步(2)master检查replid不一致，拒绝增量同步，开始全量同步(3)master将完整的内存数据生成RDB文件，发送给slave
              (4)slave清空本地数据，加载RDB文件(5)master将RDB期间接收到的命令记录在repl_baklog，并持续将log中的命令发送给slave(6)slave执行接收到的命令，与master保持同步
  增量同步过程:(1)slave请求增量同步(2)master检查replid是否一致(3)一致 去repl_baklog中获取offset后的数据 (4)发送offset后的命令(5)执行命令
  master与slave的数据差异部分在repl_baklog文件，repl_baklog中会记录Redis处理过的命令日志及offset，包括master当前的offset，和slave已经拷贝到的offset；
  slave和master的offset之间的差异就是slave需要拷贝的数据了；
  
Q:2.全量同步和增量同步区别？
A:全量同步：master将完整内存数据生成RDB，发送RDB到slave。后续命令则记录在repl_baklog，逐个发送给slave。
  增量同步：slave提交自己的offset到master，master获取repl_baklog中从offset之后的命令给slave
  

    